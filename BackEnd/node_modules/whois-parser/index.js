#! /usr/bin/env node
//process.env.NODE_ENV = process.env.NODE_ENV || 'production'
var prompt = require('prompt'),
  whois = require('./whoisData.js');

//drawMainMenu = function() {
//  console.log('==========================='.cyan);
//  console.log('input ip and register :'.cyan);
//  console.log('==========================='.cyan);
//  makeAction();
//};

makeAction = function() {
  prompt.get({ name: 'ip',
    description: 'ip'.green}, function(err, result) {
    if(result){
      if(result.ip){
        whois.getWhoisData(result.ip, function(err, text){
          if(!err&&text){
            console.log(text)
            makeAction()
          }
          else{
            console.error(err.red)
            makeAction()
          }
        })
      }else{
        console.log('You didn`t input any ip.')
        makeAction()
      }
    }else{
      console.log('You didn`t input any ip.')
      exit()
    }
  })
};
exit = function() {
  process.exit(0);
};
makeAction();
